@model List<NewsEvent>
@using Sakhaa.Models
@{
    ViewData["Title"] = "الرئيسية";
    Layout = null;
    var userEmail = Context.Session.GetString("UserEmail");
    var isAdmin = Context.Session.GetString("IsAdmin") == "true";
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="سخاء منصة مبتكرة لدعم المحتاجين بالطعام، نهدف إلى إنشاء عالم أكثر سخاءً وتكافلاً من خلال المساهمات الخيرية المنظمة.">
    <meta name="keywords" content="سخاء, تبرعات الطعام, دعم المحتاجين, مساعدة, منصة خيرية">
    <meta name="author" content="فريق سخاء">
    <title>الرئيسية</title>

    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!--Footer Style-->
    <!-- <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/utilities/font-size/font-size.css">
    <link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/utilities/padding/padding.css">

    <!-- Owl Carousel -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">

    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" /> -->
    <link rel="stylesheet" href="/styles/styles.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body id="homeBody">

    <!--Header-->
    <header id="homeHeader">
        <!-- New Navbar -->
        <div class="sakhaa-navbar-wrapper">
            <nav class="sakhaa-navbar">
                <!-- Logo -->
                <div class="sakhaa-logo">
                    <a href="/">
                        <img src="/images/logo11.png" alt="سخاء">
                    </a>
                </div>

                <!-- Mobile Toggle Button -->
                <button class="sakhaa-menu-toggle" id="menuToggle" aria-label="القائمة">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>

                <!-- Navigation Container -->
                <div class="sakhaa-nav-container" id="navContainer">
                    <!-- Main Navigation -->
                    <ul class="sakhaa-nav">
                        <li class="sakhaa-nav-item">
                            <a href="/" class="sakhaa-nav-link">الرئيسية</a>
                        </li>
                        <li class="sakhaa-nav-item sakhaa-has-dropdown">
                            <a href="#" class="sakhaa-nav-link">برامجنا</a>
                            <ul class="sakhaa-dropdown">
                                <li><a href="/Donation/DonationPrograms">برامج التبرع</a></li>
                                <li><a href="/Donation/CustomGiftForm">بطاقات الإهداء</a></li>
                            </ul>
                        </li>
                        <li class="sakhaa-nav-item">
                            <a href="/Projects/Index" class="sakhaa-nav-link">مشاريعنا</a>
                        </li>
                        <li class="sakhaa-nav-item">
                            <a href="/Shop/Index" class="sakhaa-nav-link">المتجر</a>
                        </li>
                        <li class="sakhaa-nav-item sakhaa-has-dropdown">
                            <a href="#" class="sakhaa-nav-link">عن سخاء</a>
                            <ul class="sakhaa-dropdown">
                                <li><a href="/Home/About">من نحن</a></li>
                                <li><a href="/Home/SuccessStories">قصص النجاح</a></li>
                                <li><a href="/Home/PublicReports">التقارير السنوية</a></li>
                            </ul>
                        </li>
                        <li class="sakhaa-nav-item">
                            <a href="/Home/BeneficiaryApplication" class="sakhaa-nav-link">كن مستفيد</a>
                        </li>
                        <li class="sakhaa-nav-item">
                            <a href="/Home/Contact" class="sakhaa-nav-link">تواصل معنا</a>
                        </li>
                    </ul>

                    <!-- User Actions -->
                    <div class="sakhaa-user-actions">
                        <a href="/Cart/Index" class="sakhaa-cart-link">
                            <i class="fa-solid fa-shopping-cart"></i>
                            <span class="sakhaa-cart-count" id="cart-count">0</span>
                        </a>

                        @if (string.IsNullOrEmpty(userEmail))
                        {
                            <a href="/User/Login" class="sakhaa-login-btn">تسجيل الدخول</a>
                        }
                        else
                        {
                            <div class="sakhaa-user-dropdown">
                                <button type="button" class="sakhaa-user-btn">
                                    <i class="fa-solid fa-user"></i>
                                </button>
                                <ul class="sakhaa-dropdown">
                                    <li><a href="/User/Profile"><i class="fa-solid fa-user-gear me-2 m-2"></i>الملف الشخصي</a></li>
                                    <li><a href="/User/Logout"><i class="fa-solid fa-arrow-right-from-bracket me-2 m-2"></i>تسجيل الخروج</a></li>
                                </ul>
                            </div>
                        }
                    </div>
                </div>
            </nav>
        </div>

        <!--Hero-->
        <section id="hero" class="section">
            <h1>لأنَّ سخاء العطاء هُو ما يَبني المُجتمع الحقيقيّ</h1>
            <div id="heroBtnsContainer">
                <button id="aboutBtn" onclick='window.location.href="/Home/About"'>من نحن</button>
                <button id="donateBtn" onclick='window.location.href="/Donation/DonationPrograms"'>تبرّع الآن</button>
            </div>
        </section>
    </header>

    <!--Main-->
    <main>
        <!--Our Mission Section-->
        <section id="aboutFoundation" class="section py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 order-lg-2 mb-4 mb-lg-0">
                        <div class="position-relative">
                            <img src="https://images.pexels.com/photos/6995201/pexels-photo-6995201.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" class="img-fluid rounded-circle" alt="مهمتنا" style="box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                            <div class="position-absolute circular-decoration top-right"></div>
                            <div class="position-absolute circular-decoration bottom-left"></div>
                        </div>
                    </div>
                    <div class="col-lg-6 order-lg-1 text-end">
                        <h5 class="text-success mb-3" style="color: #DAA520 !important; font-weight: 600;">عن مؤسستنا</h5>
                        <h2 class="mb-4" style="color: #405712; font-weight: 700; font-size: 2.5rem;">رسالتنا في سخاء</h2>
                        <p class="mb-4" style="color: #666; font-size: 1.1rem; line-height: 1.8;">
                            نحن نهدف إلى فتح أبواب العطاء للجميع، حيث نؤمن أن كل تبرع، مهما كان بسيطًا، يمكن أن يصنع فرقًا
                            كبيرًا. نحن نعمل على تسهيل عملية التبرع وجعلها تجربة مليئة بالإنسانية، من خلال ربط الأيادي السخية باحتياجات
                            المجتمع.
                        </p>
                        <p class="mb-5" style="color: #666; font-size: 1.1rem; line-height: 1.8;">
                            مع سخاء، ليس العطاء مجرد واجب، بل هو فرصة لنشر الخير وزراعة الأمل في حياة الآخرين. شارك
                            بسخاء وكن جزءًا من قصة تغيير تمنح الحياة لمن هم في أمسّ الحاجة.
                        </p>
                        <a href="/Home/About" class="btn px-4 py-3" style="background-color: #405712; color: white; border-radius: 30px; font-weight: 600; transition: all 0.3s ease;">اقرأ المزيد عنا</a>
                    </div>
                </div>
            </div>
        </section>

        <!--Statistics Section-->
        <section id="statisticsCards" class="section">
            <div class="card firstCard">
                <p class="number">0</p>
                <p>الفرص المتاحة</p>
            </div>
            <div class="card secondCard">
                <p class="number">0</p>
                <p>الأسر المستفيدة</p>
            </div>
            <div class="card thirdCard">
                <p class="number">0</p>
                <p>إجمالي التبرعات</p>
            </div>
        </section>

        <!-- Projects Carousel Section -->
        <section id="projectsCarousel" class="section py-5">
            <div class="container">
                <div class="row mb-4">
                    <div class="col-12 text-center">
                        <h2 class="section-title mb-2">مشاريعنا</h2>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12">
                        <div class="project-carousel owl-carousel">
                            @if (ViewBag.ActiveProjects != null && ((List<Project>)ViewBag.ActiveProjects).Any())
                            {
                                foreach (var project in (List<Project>)ViewBag.ActiveProjects)
                                {
                                    decimal progressPercentage = 0;
                                    if (project.TargetAmount.HasValue && project.TargetAmount > 0 && project.CurrentAmount.HasValue)
                                    {
                                        progressPercentage = Math.Min((project.CurrentAmount.Value / project.TargetAmount.Value) * 100, 100);
                                    }
                                    
                                    <div class="project-item">
                                        <div class="project-card">
                                            <div class="project-image">
                                                @if (!string.IsNullOrEmpty(project.ImageUrl))
                                                {
                                                    <img src="/images/@project.ImageUrl" alt="@project.Title">
                                                }
                                                else
                                                {
                                                    <img src="/images/placeholder.jpg" alt="@project.Title">
                                                }
                                                <div class="project-overlay">
                                                    <div class="project-icon">
                                                        <i class="fas fa-hand-holding-heart"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="project-content">
                                                <h3 class="project-title">@project.Title</h3>
                                                <p class="project-description">
                                                    @if (!string.IsNullOrEmpty(project.Description) && project.Description.Length > 100)
                                                    {
                                                        @(project.Description.Substring(0, 100) + "...")
                                                    }
                                                    else
                                                    {
                                                        @project.Description
                                                    }
                                                </p>
                                                <div class="project-progress">
                                                    <div class="progress">
                                                        <div class="progress-bar" role="progressbar" style="width: @progressPercentage%; background-color: #405712;" aria-valuenow="@progressPercentage" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                    <div class="progress-details">
                                                        <span class="progress-percentage">@progressPercentage.ToString("0")%</span>
                                                    </div>
                                                </div>
                                                <a href="/Projects/Details/@project.Id" class="btn project-bar-btn mt-3" style="color: #405712; border-radius: 30px; padding: 8px 20px;">تفاصيل المشروع</a>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }
                            else
                            {
                                <!-- Fallback Project Item if no projects in database -->
                                <div class="project-item">
                                    <div class="project-card">
                                        <div class="project-image">
                                            <img src="/images/placeholder.jpg" alt="مشروع تعليمي">
                                            <div class="project-overlay">
                                                <div class="project-icon">
                                                    <i class="fas fa-book"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="project-content">
                                            <h3 class="project-title">مكافحة الأمية</h3>
                                            <p class="project-description">نسعى لتوفير التعليم للأطفال في المناطق المحرومة</p>
                                            <div class="project-progress">
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="width: 75%; background-color: #405712;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                                <div class="progress-details">
                                                    <span class="progress-percentage">75%</span>
                                                    <span class="progress-text">من الهدف</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!--Donate Now Section-->
        <section id="donateNow" class="section">
            <div class="img"></div>
            <div class="content">
                <p>كن سببًا في إضاءة حياة من حولك... <span>تبرع اليوم</span></p>
                <button onclick='window.location.href="../pages/programs.html"'>تعرف إلى برامج التبرع</button>
            </div>
        </section>


        <!--Gift Section-->
        <section id="giftSection" class="section">
            <img src="/images/leftCircle.png" class="circle">
            <div class="content">
                <img src="/images/gift.png" id="giftImg">
                <h2>أظهر محبّتك من خلال العطاء</h2>
                <p>
                    حول تبرعك إلى هدية مميزة! اختر المبلغ الذي ترغب في التبرع به واهدِه لمن تحب في مناسباتهم الخاصة أو
                    لأي شخص يحتاج الدعم.
                </p>
                <div id="giftInstructions">
                    <div>
                        <img src="/images/money.png">
                        <p>اختَر المبلغ</p>
                    </div>
                    <div>
                        <img src="/images/love-letter.png">
                        <p>أضِف رسالة</p>
                    </div>
                    <div>
                        <img src="/images/gift-box.png">
                        <p>اهدِ تبرّعك</p>
                    </div>
                </div>
                <button class="mainBtn"><a asp-controller="Donation" asp-action="CustomGiftForm">إهداء</a></button>
            </div>
            <img src="/images/rightCircle.png" class="circle">
        </section>

        <section id="successStoriesSection" style="padding: 3%; background-color: #F5F5DC; color: white;" class="section">
            <h2 style="text-align: right; margin: 0 6% 2% 0;">أثر العطاء</h2>
            <div class="row justify-content-center">
                <img src="/images/successStories.png" class="col-4"
                     style="height: 400px; width: 300px; border-top-left-radius: 30px; border-bottom-right-radius: 30px;">
                <div class="col-8" style="margin-right: 2%;">
                    <div class="row">
                        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel"
                             style="margin-bottom: 2%; background-color: #405712; height: 200px; border-top-left-radius: 30px; border-bottom-right-radius: 30px;">
                            <div class="carousel-indicators">
                                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                                        class="active" aria-current="true" aria-label="Slide 1"></button>
                                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                                        aria-label="Slide 2"></button>
                                <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                                        aria-label="Slide 3"></button>
                            </div>
                            <div class="carousel-inner" style="text-align: right; padding: 30px; direction: rtl;">
                                @{
                                    var feedbacks = ViewBag.LatestFeedbacks as List<Sakhaa.Models.BeneficiaryFeedback>;
                                    bool hasAnyFeedbacks = feedbacks != null && feedbacks.Any();
                                }
                                @if (hasAnyFeedbacks)
                                {
                                    for (int i = 0; i < feedbacks.Count; i++)
                                    {
                                        var feedback = feedbacks[i];
                                        <div class="carousel-item @(i == 0 ? "active" : "")">
                                            <i class="fas fa-quote-left"></i>
                                            <h5>@(string.IsNullOrEmpty(feedback.BeneficiaryName) ? "مستفيد" : feedback.BeneficiaryName)</h5>
                                            <p>
                                                "@(string.IsNullOrEmpty(feedback.Feedback) ? "شكراً لدعمكم المستمر" : feedback.Feedback)"
                                            </p>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <div class="carousel-item active">
                                        <i class="fas fa-quote-left"></i>
                                        <h5>شهادات من القلب</h5>
                                        <p>
                                            "إن هذه النصوص العشوائية تمثل مثالًا جيدًا لاستخدام النصوص في تصاميم المواقع.
                                            فتُستخدم بشكل أساسي لغرض ملء المساحات وعرض التخطيطات المختلفة حتى يتم إدخال
                                            النصوص الأصلية فيما بعد."
                                        </p>
                                    </div>
                                    <div class="carousel-item">
                                        <i class="fas fa-quote-left"></i>
                                        <h5>شهادات من القلب</h5>
                                        <p>
                                            "إن هذه النصوص العشوائية تمثل مثالًا جيدًا لاستخدام النصوص في تصاميم المواقع.
                                            فتُستخدم بشكل أساسي لغرض ملء المساحات وعرض التخطيطات المختلفة حتى يتم إدخال
                                            النصوص الأصلية فيما بعد."
                                        </p>
                                    </div>
                                    <div class="carousel-item">
                                        <i class="fas fa-quote-left"></i>
                                        <h5>شهادات من القلب</h5>
                                        <p>
                                            "إن هذه النصوص العشوائية تمثل مثالًا جيدًا لاستخدام النصوص في تصاميم المواقع.
                                            فتُستخدم بشكل أساسي لغرض ملء المساحات وعرض التخطيطات المختلفة حتى يتم إدخال
                                            النصوص الأصلية فيما بعد."
                                        </p>
                                    </div>
                                }
                            </div>
                        </div>

                    </div>
                    <div class="row"
                         style="height: 200px; background-color: #DAA520; border-top-left-radius: 30px; border-bottom-right-radius: 30px;">
                        <p style="text-align: right; direction: rtl; padding: 30px;">
                            تتيح لك منصة سخاء إمكانية تتبع تبرعاتك خطوة بخطوة، لتشاهد الأثر
                            الذي تُحدِثه في حياة المستفيدين بكل شفافية.
                        </p>
                    </div>
                </div>

            </div>
        </section>


        <section id="newsCards" class="section">
            <h2>آخر الأخبار</h2>
            <div class="container">
                <div class="posts">
                    @foreach (var newsEvent in Model)
                    {
                        <div class="post">
                            @if (!string.IsNullOrEmpty(newsEvent.Image))
                            {
                                <div class="post__image" style="background-image: url('/images/@newsEvent.Image'); background-size:cover"></div>
                            }
                            else
                            {
                                <div class="post__image post__image--@(new Random().Next(1, 7))"></div>
                            }
                            <div class="post__content">
                                <div class="post__inside">
                                    <h3 class="post__title" style="line-height:30px">@newsEvent.Title</h3>
                                    <p class="post__excerpt" style="direction:rtl">
                                        @{
                                            // Simplify the excerpt logic to ensure consistent display
                                            string contentExcerpt = "";
                                            if (!string.IsNullOrEmpty(newsEvent.Content))
                                            {
                                                // Get only first 100 characters or first line, whichever is shorter
                                                var firstLineEnd = newsEvent.Content.IndexOf('\n');
                                                if (firstLineEnd > 0 && firstLineEnd < 100)
                                                {
                                                    contentExcerpt = newsEvent.Content.Substring(0, firstLineEnd);
                                                }
                                                else
                                                {
                                                    var maxLength = Math.Min(100, newsEvent.Content.Length);
                                                    contentExcerpt = newsEvent.Content.Substring(0, maxLength);
                                                    if (newsEvent.Content.Length > 100)
                                                    {
                                                        contentExcerpt += "...";
                                                    }
                                                }
                                            }
                                        }
                                        @contentExcerpt
                                    </p>
                                    <button class="btn--accent post__button">
                                        <a href="@Url.Action("NewsDetails", "Home", new { id = newsEvent.Id })">
                                            المزيد
                                        </a>
                                    </button>

                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-top py-5">
            <div class="container">
                <div class="row gy-4">
                    <div class="col-lg-4 col-md-6">
                        <div class="footer-info">
                            <a href="/" class="footer-logo mb-3">
                                <img src="/images/logo11.png" alt="سخاء" width="120">
                            </a><br /><br />
                            <p class="mb-3">مؤسسة سخاء الخيرية تسعى لتقديم المساعدة للمحتاجين وتمكين المجتمعات من خلال برامج تنموية مستدامة.</p>
                            <div class="contact-info">
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-map-marker-alt me-2"></i>
                                    <span>اربد، الأردن</span>
                                </div>
                                <div class="d-flex align-items-center mb-2">
                                    <i class="fas fa-phone-alt me-2"></i>
                                    <span style="direction:ltr">+962786264841</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <i class="fas fa-envelope me-2"></i>
                                    <span>info@sakhaa.org</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-2 col-md-6">
                        <h4 class="footer-heading">روابط سريعة</h4>
                        <ul class="footer-links list-unstyled">
                            <li><a href="/">الرئيسية</a></li>
                            <li><a href="/Home/About">من نحن</a></li>
                            <li><a href="/Projects/Index">مشاريعنا</a></li>
                            <li><a href="/Donation/DonationPrograms">برامجنا</a></li>
                            <li><a href="/Home/SuccessStories">قصص النجاح</a></li>
                            <li><a href="/Home/Contact">تواصل معنا</a></li>
                        </ul>
                    </div>

                    <div class="col-lg-2 col-md-6">
                        <h4 class="footer-heading">خدماتنا</h4>
                        <ul class="footer-links list-unstyled">
                            <li><a href="/Shop/Index">المتجر الخيري</a></li>
                            <li><a href="/Donation/GiftDonation">بطاقات الإهداء</a></li>
                            <li><a href="/Home/BeneficiaryApplication">طلب استفادة</a></li>
                            <li><a href="/Home/PublicReports">التقارير السنوية</a></li>
                        </ul>
                    </div>

                    <div class="col-lg-4 col-md-6">
                        <h4 class="footer-heading">تواصل معنا</h4>
                        <div class="social-links mt-4">
                            <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-x-twitter"></i></a>
                            <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom py-3">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 text-center text-md-center">
                        <p class="mb-0">&copy; @DateTime.Now.Year مؤسسة سخاء الخيرية. جميع الحقوق محفوظة.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <style>
        .project-bar-btn:hover{
            color: #DAA520 !important;
        }
        .footer {
            direction: rtl;
            text-align: right;
        }

        .footer-top {
            background-color: #F5F5DC;
        }

        .footer-heading {
            color: #405712;
            font-weight: 600;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
            padding-right: 1.5rem;
        }

            .footer-heading:after {
                content: '';
                position: absolute;
                bottom: 0;
                right: 1.5rem;
                width: 50px;
                height: 2px;
                background-color: #DAA520;
            }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: #555;
            text-decoration: none;
            transition: all 0.3s ease;
        }

            .footer-links a:hover {
                color: #DAA520;
                /* padding-right: 5px; */
            }

        .contact-info {
            color: #555;
        }

            .contact-info i {
                color: #405712;
                width: 20px;
            }

        .social-links {
            display: flex;
            gap: 10px;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #F5F5DC;
            color: #405712;
            transition: all 0.3s ease;
        }

            .social-link:hover {
                background-color: #DAA520;
                color: #fff;
            }

        .newsletter-form .form-control {
            border-radius: 30px 0 0 30px;
            border: 1px solid #ddd;
        }

        .btn-subscribe {
            background-color: #405712;
            color: white;
            border-radius: 0 30px 30px 0;
            border: 1px solid #405712;
            transition: all 0.3s ease;
        }

            .btn-subscribe:hover {
                background-color: #DAA520;
                border-color: #DAA520;
            }

        .footer-bottom {
            background-color: #FAFAFA;
            font-size: 0.9rem;
        }

        .footer-bottom-links a {
            color: #555;
            text-decoration: none;
            margin-left: 1.5rem;
            transition: all 0.3s ease;
        }

            .footer-bottom-links a:hover {
                color: #DAA520;
            }

        #logInHeader h2{
            top:40% !important;
        }

        @@media (max-width: 767px) {
            .footer-heading {
                margin-top: 1.5rem;
            }

            .footer-bottom .text-md-end,
            .footer-bottom .text-md-start {
                text-align: center !important;
            }

            .footer-bottom-links {
                margin-top: 1rem;
            }

                .footer-bottom-links a {
                    margin: 0 0.75rem;
                }
        }

        /* New Navbar Styles */
        .sakhaa-navbar-wrapper {
            position: relative;
            padding: 15px 0;
            direction: rtl;
        }

        .sakhaa-navbar {
            background-color: #fff;
            border-radius: 100px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            max-width: 1440px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 80px;
            position: relative;
            box-shadow: 0 0 5px rgba(64, 87, 18, 0.2470588235);
        }

        .sakhaa-logo {
            display: flex;
            align-items: center;
        }

            .sakhaa-logo img {
                height: 50px;
                width: auto;
            }

        .sakhaa-menu-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            width: 30px;
            height: 25px;
            position: relative;
            z-index: 100;
            left: 25px;
        }

            .sakhaa-menu-toggle span {
                display: block;
                width: 100%;
                height: 3px;
                background-color: #405712;
                margin: 5px 0;
                border-radius: 3px;
                transition: all 0.3s ease;
            }

        .sakhaa-nav-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex: 1;
            margin-right: 30px;
        }

        .sakhaa-nav {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 5px;
        }

        .sakhaa-nav-item {
            position: relative;
        }

        .sakhaa-nav-link {
            display: block;
            padding: 10px 15px;
            color: #333;
            text-decoration: none;
            font-weight: 500;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

            .sakhaa-nav-link:hover {
                color: #405712;
                background-color: rgba(64, 87, 18, 0.08);
            }

        .sakhaa-has-dropdown > .sakhaa-nav-link:after {
            content: "\f107";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            margin-right: 5px;
            transition: transform 0.3s ease;
        }

        .sakhaa-has-dropdown:hover > .sakhaa-nav-link:after {
            transform: rotate(180deg);
        }

        .sakhaa-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            min-width: 200px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 10px 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s ease;
            z-index: 100;
            list-style: none;
        }

        .sakhaa-has-dropdown:hover .sakhaa-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .sakhaa-dropdown li a {
            display: block;
            padding: 10px 20px;
            color: #333;
            text-decoration: none;
            transition: all 0.3s ease;
        }

            .sakhaa-dropdown li a:hover {
                background-color: rgba(64, 87, 18, 0.08);
                color: #405712;
                /* padding-right: 25px; */
            }

        .sakhaa-user-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .sakhaa-cart-link {
            position: relative;
            color: #333;
            font-size: 1.2rem;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

            .sakhaa-cart-link:hover {
                background-color: rgba(64, 87, 18, 0.08);
                color: #405712;
            }

        .sakhaa-cart-count {
            position: absolute;
            top: -5px;
            left: -5px;
            background-color: #A31621;
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sakhaa-login-btn {
            background-color: #405712;
            color: white;
            border: none;
            border-radius: 30px;
            padding: 8px 20px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }

            .sakhaa-login-btn:hover {
                background-color: #DAA520;
                color: white;
            }

        .sakhaa-user-dropdown {
            position: relative;
        }

        .sakhaa-user-dropdown:hover .sakhaa-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .sakhaa-user-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(64, 87, 18, 0.1);
            border: none;
            color: #405712;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

            .sakhaa-user-btn:hover {
                background-color: rgba(64, 87, 18, 0.2);
            }

        .sakhaa-user-dropdown .sakhaa-dropdown {
            left: 0;
            right: auto;
        }

        /* Responsive Styles */
        @@media (max-width: 992px) {
            .sakhaa-navbar {
                padding: 0 15px;
                height: 70px;
            }
            
            .sakhaa-menu-toggle {
                display: block;
            }
            
            .sakhaa-nav-container {
                position: fixed;
                top: 0;
                right: -100%;
                width: 280px;
                height: 100%;
                background-color: #fff;
                flex-direction: column;
                justify-content: flex-start;
                padding: 100px 20px 30px;
                margin: 0;
                transition: all 0.4s ease;
                box-shadow: -5px 0 15px rgba(0,0,0,0.1);
                z-index: 99;
                overflow-y: auto;
            }
            
            .sakhaa-nav-container.active {
                right: 0;
            }
            
            .sakhaa-nav {
                flex-direction: column;
                width: 100%;
                gap: 0;
            }
            
            .sakhaa-nav-link {
                padding: 15px;
                border-bottom: 1px solid #f0f0f0;
                border-radius: 0;
            }
            
            .sakhaa-dropdown {
                position: static;
                opacity: 1;
                visibility: visible;
                transform: none;
                box-shadow: none;
                max-height: 0;
                overflow: hidden;
                padding: 0;
                transition: max-height 0.3s ease;
            }
            
            .sakhaa-has-dropdown.active .sakhaa-dropdown {
                max-height: 300px;
                padding: 10px 0;
            }
            
            .sakhaa-dropdown li a {
                padding: 10px 30px;
            }
            
            .sakhaa-user-actions {
                width: 100%;
                justify-content: center;
                margin-top: 20px;
                padding-top: 20px;
                /* border-top: 1px solid #f0f0f0; */
            }
            
            /* Mobile user dropdown styles */
            .sakhaa-user-dropdown:hover .sakhaa-dropdown {
                opacity: 0;
                visibility: hidden;
                transform: translateY(10px);
            }
            
            .sakhaa-user-dropdown.active .sakhaa-dropdown {
                opacity: 1;
                visibility: visible;
                transform: translateY(0);
            }
            
            .sakhaa-menu-toggle.active span:nth-child(1) {
                transform: translateY(8px) rotate(45deg);
            }
            
            .sakhaa-menu-toggle.active span:nth-child(2) {
                opacity: 0;
            }
            
            .sakhaa-menu-toggle.active span:nth-child(3) {
                transform: translateY(-8px) rotate(-45deg);
            }
            
            body.menu-open {
                overflow: hidden;
            }
            
            .sakhaa-has-dropdown > .sakhaa-nav-link:after {
                float: left;
            }
        }

        @@media (max-width: 576px) {
            .sakhaa-navbar-wrapper {
                padding: 10px;
            }

            .sakhaa-navbar {
                border-radius: 10px;
                height: 60px;
            }

            .sakhaa-logo img {
                height: 45px;
            }

            #homeHeader{
                background-image: url("/images/heroS.png");
                background-position: center;
            }

            #homeHeader #hero{
                    justify-self: auto;
                }
                #homeHeader #hero #heroBtnsContainer{
                        flex-direction: column;
                    }

            #heroBtnsContainer button{
                background-color:#405712 !important;
                color: #FAFAFA !important;
                border: none !important;
            }
        }

        /* Overlay for mobile menu */
        .sakhaa-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 98;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

            .sakhaa-overlay.active {
                opacity: 1;
                visibility: visible;
            }
            
        /* About Foundation Section Styles */
        #aboutFoundation {
            direction: rtl;
        }
        
        #aboutFoundation h5 {
            color: #DAA520 !important;
        }
        
        #aboutFoundation h2 {
            color: #405712;
        }
        
        #aboutFoundation .btn:hover {
            background-color: #DAA520 !important;
            /* transform: translateY(-3px); */
        }
        
        #aboutFoundation .position-relative {
            display: inline-block;
        }
        
        #aboutFoundation .circular-decoration {
            position: absolute;
            border-radius: 50%;
            z-index: -1;
        }
        
        #aboutFoundation .circular-decoration.top-right {
            top: -20px;
            right: -20px;
            width: 100px;
            height: 100px;
            background-color: #DAA520;
        }
        
        #aboutFoundation .circular-decoration.bottom-left {
            bottom: -20px;
            left: -20px;
            width: 100px;
            height: 100px;
            background-color: #405712;
        }
        
        /* Projects Carousel Styles */
        #projectsCarousel {
            direction: rtl;
            padding: 60px 0;
        }
        
        #projectsCarousel .section-title {
            color: #405712;
            font-weight: 700;
            font-size: 2.2rem;
            position: relative;
            display: inline-block;
        }
        
        
        #projectsCarousel .section-subtitle {
            color: #666;
            font-size: 1.1rem;
        }
        
        .project-carousel {
            margin-top: 20px;
        }
        
        .project-item {
            padding: 15px;
        }
        
        .project-card {
            background-color: #fff;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            height: 450px; /* Fixed height for all cards */
        }
        
        .project-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .project-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .project-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.6));
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .project-card:hover .project-overlay {
            opacity: 1;
        }
        
        .project-icon {
            width: 60px;
            height: 60px;
            background-color: #DAA520;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            transform: scale(0);
            transition: all 0.3s ease;
        }
        
        .project-card:hover .project-icon {
            transform: scale(1);
        }
        
        .project-content {
            padding: 20px;
            text-align: center;
            height: 250px; /* Fixed height for content area */
            display: flex;
            flex-direction: column;
        }
        
        .project-title {
            color: #405712;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 10px;
            height: 50px; /* Fixed height for title */
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .project-description {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
            height: 70px; /* Fixed height for description */
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
        
        .project-progress {
            margin-top: auto; /* Push to bottom of flex container */
        }
        
        .project-progress .progress {
            height: 8px;
            border-radius: 4px;
            background-color: #f0f0f0;
            margin-bottom: 10px;
        }
        
        .project-progress .progress-bar {
            border-radius: 4px;
        }
        
        .progress-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .progress-percentage {
            color: #405712;
            font-weight: 700;
        }
        
        .progress-text {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Custom Owl Carousel Navigation */
        .owl-nav button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background-color: #fff !important;
            border-radius: 50% !important;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1) !important;
            color: #405712 !important;
            font-size: 20px !important;
            transition: all 0.3s ease;
        }
        
        .owl-nav button:hover {
            background-color: #405712 !important;
            color: #fff !important;
        }
        
        .owl-prev {
            left: -20px;
        }
        
        .owl-next {
            right: -20px;
        }
        
        .owl-dots {
            margin-top: 20px;
            text-align: center;
        }
        
        .owl-dot span {
            background-color: #ddd !important;
            transition: all 0.3s ease;
        }
        
        .owl-dot.active span, 
        .owl-dot:hover span {
            background-color: #DAA520 !important;
        }
        
        /* Responsive Styles for Projects Carousel */
        @@media (max-width: 992px) {
            #projectsCarousel .section-title {
                font-size: 1.8rem;
            }
            
            .project-title {
                font-size: 1.2rem;
            }
            
            .project-description {
                font-size: 0.9rem;
            }
        }
        
        @@media (max-width: 576px) {
            #projectsCarousel {
                padding: 40px 0;
            }
            
            #projectsCarousel .section-title {
                font-size: 1.5rem;
            }
            
            #projectsCarousel .section-subtitle {
                font-size: 0.9rem;
            }
            
            .project-image {
                height: 180px;
            }
            
            .project-icon {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .owl-nav button {
                width: 35px;
                height: 35px;
            }
        }
        
        @@media (max-width: 992px) {
            #aboutFoundation h2 {
                font-size: 2rem !important;
            }
            
            #aboutFoundation p {
                font-size: 1rem !important;
            }
            
            #aboutFoundation .circular-decoration {
                width: 80px !important;
                height: 80px !important;
            }
        }
        
        @@media (max-width: 576px) {
            #aboutFoundation h2 {
                font-size: 1.75rem !important;
            }
            
            #aboutFoundation .circular-decoration {
                width: 60px !important;
                height: 60px !important;
            }
            
            #aboutFoundation .btn {
                width: 100%;
            }
        }
    </style>

    <!--Bootstrap-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Owl Carousel JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

    <!--Navbar and footer-->
    <script src="/javaScript/navAndFooterFetch.js"></script>
    <script src="/javaScript/home.js"></script>

    <!-- Sakhaa Navbar JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Create overlay element for mobile menu
            const overlay = document.createElement('div');
            overlay.className = 'sakhaa-overlay';
            document.body.appendChild(overlay);
            
            // Mobile menu toggle
            const menuToggle = document.getElementById('menuToggle');
            const navContainer = document.getElementById('navContainer');
            
            menuToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                navContainer.classList.toggle('active');
                overlay.classList.toggle('active');
                document.body.classList.toggle('menu-open');
            });
            
            // Close menu when clicking overlay
            overlay.addEventListener('click', function() {
                menuToggle.classList.remove('active');
                navContainer.classList.remove('active');
                overlay.classList.remove('active');
                document.body.classList.remove('menu-open');
            });
            
            // Handle dropdown menus on mobile
            if (window.innerWidth < 992) {
                const dropdownItems = document.querySelectorAll('.sakhaa-has-dropdown');
                
                dropdownItems.forEach(item => {
                    const link = item.querySelector('.sakhaa-nav-link');
                    
                    link.addEventListener('click', function(e) {
                        if (window.innerWidth < 992) {
                            e.preventDefault();
                            item.classList.toggle('active');
                            
                            // Close other open dropdowns
                            dropdownItems.forEach(otherItem => {
                                if (otherItem !== item && otherItem.classList.contains('active')) {
                                    otherItem.classList.remove('active');
                                }
                            });
                        }
                    });
                });
                
                // Handle user dropdown on mobile
                const userDropdown = document.querySelector('.sakhaa-user-dropdown');
                if (userDropdown) {
                    const userBtn = userDropdown.querySelector('.sakhaa-user-btn');
                    
                    userBtn.addEventListener('click', function(e) {
                        if (window.innerWidth < 992) {
                            e.preventDefault();
                            userDropdown.classList.toggle('active');
                            
                            // Toggle dropdown visibility
                            const dropdown = userDropdown.querySelector('.sakhaa-dropdown');
                            if (userDropdown.classList.contains('active')) {
                                dropdown.style.maxHeight = dropdown.scrollHeight + 'px';
                                dropdown.style.padding = '10px 0';
                                dropdown.style.opacity = '1';
                                dropdown.style.visibility = 'visible';
                            } else {
                                dropdown.style.maxHeight = '0';
                                dropdown.style.padding = '0';
                            }
                        }
                    });
                }
            }
            
            // Cart count ajax
            $.ajax({
                url: '/Cart/CartCount',
                type: 'GET',
                success: function(response) {
                    if (response.cartCount > 0) {
                        $('#cart-count').text(response.cartCount);
                        $('#cart-count').show();
                    } else {
                        $('#cart-count').hide();
                    }
                },
                error: function() {
                    $('#cart-count').hide();
                }
            });
            
            // Initialize Owl Carousel for Projects
            $('.project-carousel').owlCarousel({
                loop: true,
                margin: 20,
                nav: true,
                dots: true,
                rtl: true,
                autoplay: true,
                autoplayTimeout: 5000,
                autoplayHoverPause: true,
                navText: ['<i class="fas fa-chevron-left"></i>', '<i class="fas fa-chevron-right"></i>'],
                responsive: {
                    0: {
                        items: 1
                    },
                    576: {
                        items: 1
                    },
                    768: {
                        items: 2
                    },
                    992: {
                        items: 3
                    }
                }
            });
            
            // Handle window resize
            window.addEventListener('resize', function() {
                if (window.innerWidth >= 992) {
                    menuToggle.classList.remove('active');
                    navContainer.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.classList.remove('menu-open');
                    
                    document.querySelectorAll('.sakhaa-has-dropdown.active').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Reset user dropdown styles
                    const userDropdown = document.querySelector('.sakhaa-user-dropdown');
                    if (userDropdown) {
                        userDropdown.classList.remove('active');
                        const dropdown = userDropdown.querySelector('.sakhaa-dropdown');
                        dropdown.style.maxHeight = '';
                        dropdown.style.padding = '';
                    }
                }
            });
        });
    </script>
</body>

</html>
